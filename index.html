<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/maze-router-ton/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Maze Router - TON Transaction Router"/><link rel="apple-touch-icon" href="/maze-router-ton/logo192.png"/><link rel="manifest" href="/maze-router-ton/manifest.json"/><title>Maze Router</title><script>const API_URL="https://maze-router-api.vercel.app/api",PROXY_URLS=["https://corsproxy.io/?","https://cors-anywhere.herokuapp.com/","https://api.allorigins.win/raw?url=","https://proxy.cors.sh/"];function directApiRequest(t,e,o=null){return new Promise(((r,n)=>{console.log(`Выполнение прямого ${t} запроса к ${e}`);const s=new XMLHttpRequest;s.open(t,e,!0),s.setRequestHeader("Content-Type","application/json"),s.onload=function(){if(s.status>=200&&s.status<300)try{const t=JSON.parse(s.responseText);console.log("Успешный ответ API:",t),r(t)}catch(t){console.error("Ошибка при разборе JSON ответа:",t),n(new Error("Некорректный формат ответа"))}else console.error("HTTP ошибка:",s.status,s.statusText),n(new Error(`HTTP ошибка! Статус: ${s.status}`))},s.onerror=function(){console.error("Ошибка сети при выполнении запроса"),n(new Error("Ошибка сети"))},s.timeout=1e4,s.ontimeout=function(){console.error("Превышено время ожидания запроса"),n(new Error("Таймаут запроса"))},o?s.send(JSON.stringify(o)):s.send()}))}async function proxyRequest(t,e,o=null){for(let r=0;r<PROXY_URLS.length;r++){const n=PROXY_URLS[r],s=`${API_URL}/${e}`,a=encodeURIComponent(s),c=n.includes("?")?`${n}${a}`:`${n}${s}`;try{if(console.log(`Попытка ${r+1}/${PROXY_URLS.length} через прокси ${n}`),n.includes("allorigins")){const t=await fetch(c);if(!t.ok)throw new Error(`HTTP ошибка! Статус: ${t.status}`);return await t.json()}const e=await fetch(c,{method:t,headers:{"Content-Type":"application/json"},body:o?JSON.stringify(o):void 0});if(!e.ok)throw new Error(`HTTP ошибка! Статус: ${e.status}`);return await e.json()}catch(t){if(console.warn(`Ошибка через прокси ${n}:`,t.message),r===PROXY_URLS.length-1)throw t}}}window.DirectMazeAPI={calculateCommission:async function(t){console.log("DirectMazeAPI.calculateCommission вызван с суммой:",t);try{return await directApiRequest("POST",`${API_URL}/calculate`,{amount:t})}catch(e){console.warn("Прямой запрос не удался, пробуем через прокси:",e);try{return await proxyRequest("POST","calculate",{amount:t})}catch(t){throw console.error("Все методы запроса не удались:",t),t}}},prepareTransfer:async function(t,e){console.log("DirectMazeAPI.prepareTransfer вызван:",{to:t,amount:e});try{return await directApiRequest("POST",`${API_URL}/transfer`,{to:t,amount:e})}catch(o){console.warn("Прямой запрос не удался, пробуем через прокси:",o);try{return await proxyRequest("POST","transfer",{to:t,amount:e})}catch(t){throw console.error("Все методы запроса не удались:",t),t}}}},window.MazeRouterProxy=window.DirectMazeAPI,console.log("DirectMazeAPI и MazeRouterProxy успешно инициализированы с использованием XMLHttpRequest")</script><script defer="defer" src="/maze-router-ton/static/js/main.8745243f.js"></script><link href="/maze-router-ton/static/css/main.5520a134.css" rel="stylesheet"></head><body><noscript>Вам необходимо включить JavaScript для запуска приложения.</noscript><div id="root"></div></body></html>